<!-- GFM-TOC -->
* [高并发](#高并发)
    * [扩容](#扩容)
    * [缓存](#缓存)
    * [消息队列](#消息队列)
    * [应用拆分](#应用拆分)
    * [应用限流](#应用限流)
    * [服务降级与服务熔断](#服务降级与服务熔断)
    * [数据库切库分库分表](#数据库切库分库分表)
    * [高可用](#高可用)
<!-- GFM-TOC -->

# 高并发

## 扩容

- 垂直扩容（纵向扩展）：提高系统部件能力
- 水平扩容（横向扩展）：增加更多系统成员来实现

**扩容-数据库**
- 读操作扩展：memcache、redis、CDN等缓存
- 写操作扩展：Cassandra、Hbase等

## 缓存

#### 缓存特征
- 命中率：命中数 / （命中数 + 未命中数）
- 最大元素（空间）
- 清空策略：FIFO、LFU、LRU、过期时间、随机等

#### 缓存命中率因素
- 业务场景和业务需求
- 缓存设计（粒度和策略）
- 缓存容量和基础设施

#### 缓存分类和应用场景
- 本地缓存：编程实现（成员变量、局部变量、静态变量）、Guava Cache
- 分布式缓存：Memcache、Redis

#### 高并发下缓存常见问题

1. 缓存一致性

||||
|-|-|-|
|更新数据库成功|更新缓存失败|数据不一致|
|更新缓存成功|更新数据库失败|数据不一致|
|更新数据库成功|淘汰缓存失败|数据不一致|
|淘汰缓存成功|更新数据库失败|查询缓存miss|

2. 缓存并发问题

3. 缓存穿透问题

4. 缓存的雪崩现象

## 消息队列


## 应用拆分


## 应用限流


## 服务降级与服务熔断


## 数据库切库分库分表


## 高可用